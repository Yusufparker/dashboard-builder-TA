import{r as a,a as nt,j as e,R as ne,K as st,k as ye,$ as tr}from"./app-DGAHnn6E.js";import{c as ze,u as M,e as _,S as or,f as at,B as Z,g as rr,h as nr,b as qe,a as sr}from"./AuthenticatedLayout-BxHycdS6.js";import{L as q}from"./label-BXXWM-8G.js";import{P as k,I as G}from"./input-By0G07HJ.js";import{h as ar,u as lr,R as ir,F as cr,g as dr,i as he,P as ur,b as lt,c as it,d as ct,f as dt,j as ut,T as pr,O as fr,W as mr,C as hr,k as gr,l as xr,m as pt,n as vr,o as yr,D as et,p as tt,a as ot}from"./dialog-DBWkQri9.js";import{c as ce,u as me,a as C,b as J,d as ft,P as br}from"./index-BHlNW7ay.js";import{u as mt,M as wr}from"./index-DqWAJov3.js";import{u as Sr,C as Cr}from"./index-D0910oJw.js";import{r as ht}from"./index-6Ny7S6dL.js";import{c as Nr,a as gt,A as jr,C as Rr,b as Tr,u as Ye,R as Ir}from"./index-BBaRzBEH.js";import{T as Er}from"./trash-_08GlZZf.js";import{D as _r}from"./DashboardLayout-Cu8dTvHl.js";import"./transition-BrNfP04v.js";import"./x-CXb2ktSC.js";/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ar=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],xt=ze("ChevronDown",Ar);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pr=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],Dr=ze("ChevronUp",Pr);/**
 * @license lucide-react v0.474.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],kr=ze("Pencil",Mr),Or=()=>{const[t,r]=a.useState(!1),[o,s]=a.useState(!1),[n,l]=a.useState(""),[i,c]=a.useState([]);return{getFieldTypes:async()=>{var p;try{r(!0);const u=await nt.get("/field-types/list");c((p=u.data)==null?void 0:p.data)}catch(u){s(!0),l(u.message||"An error occurred")}finally{r(!1)}},isLoading:t,isError:o,error:n,fieldTypes:i}};var Xe="Switch",[Fr,xs]=ce(Xe),[Vr,Lr]=Fr(Xe),vt=a.forwardRef((t,r)=>{const{__scopeSwitch:o,name:s,checked:n,defaultChecked:l,required:i,disabled:c,value:d="on",onCheckedChange:p,form:u,...f}=t,[b,S]=a.useState(null),g=M(r,y=>S(y)),m=a.useRef(!1),v=b?u||!!b.closest("form"):!0,[x=!1,h]=me({prop:n,defaultProp:l,onChange:p});return e.jsxs(Vr,{scope:o,checked:x,disabled:c,children:[e.jsx(k.button,{type:"button",role:"switch","aria-checked":x,"aria-required":i,"data-state":wt(x),"data-disabled":c?"":void 0,disabled:c,value:d,...f,ref:g,onClick:C(t.onClick,y=>{h(A=>!A),v&&(m.current=y.isPropagationStopped(),m.current||y.stopPropagation())})}),v&&e.jsx($r,{control:b,bubbles:!m.current,name:s,value:d,checked:x,required:i,disabled:c,form:u,style:{transform:"translateX(-100%)"}})]})});vt.displayName=Xe;var yt="SwitchThumb",bt=a.forwardRef((t,r)=>{const{__scopeSwitch:o,...s}=t,n=Lr(yt,o);return e.jsx(k.span,{"data-state":wt(n.checked),"data-disabled":n.disabled?"":void 0,...s,ref:r})});bt.displayName=yt;var $r=t=>{const{control:r,checked:o,bubbles:s=!0,...n}=t,l=a.useRef(null),i=mt(o),c=Sr(r);return a.useEffect(()=>{const d=l.current,p=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(p,"checked").set;if(i!==o&&f){const b=new Event("click",{bubbles:s});f.call(d,o),d.dispatchEvent(b)}},[i,o,s]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:o,...n,tabIndex:-1,ref:l,style:{...t.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function wt(t){return t?"checked":"unchecked"}var St=vt,Br=bt;const be=a.forwardRef(({className:t,...r},o)=>e.jsx(St,{className:_("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...r,ref:o,children:e.jsx(Br,{className:_("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));be.displayName=St.displayName;function rt(t,[r,o]){return Math.min(o,Math.max(r,t))}var Hr="VisuallyHidden",Ct=a.forwardRef((t,r)=>e.jsx(k.span,{...t,ref:r,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Ct.displayName=Hr;var Ur=[" ","Enter","ArrowUp","ArrowDown"],Wr=[" ","Enter"],ge="Select",[je,Re,Kr]=Nr(ge),[de,vs]=ce(ge,[Kr,gt]),Te=gt(),[Gr,Q]=de(ge),[zr,qr]=de(ge),Nt=t=>{const{__scopeSelect:r,children:o,open:s,defaultOpen:n,onOpenChange:l,value:i,defaultValue:c,onValueChange:d,dir:p,name:u,autoComplete:f,disabled:b,required:S,form:g}=t,m=Te(r),[v,x]=a.useState(null),[h,y]=a.useState(null),[A,P]=a.useState(!1),te=Ye(p),[D=!1,R]=me({prop:s,defaultProp:n,onChange:l}),[B,H]=me({prop:i,defaultProp:c,onChange:d}),O=a.useRef(null),V=v?g||!!v.closest("form"):!0,[U,W]=a.useState(new Set),L=Array.from(U).map(I=>I.props.value).join(";");return e.jsx(Ir,{...m,children:e.jsxs(Gr,{required:S,scope:r,trigger:v,onTriggerChange:x,valueNode:h,onValueNodeChange:y,valueNodeHasChildren:A,onValueNodeHasChildrenChange:P,contentId:he(),value:B,onValueChange:H,open:D,onOpenChange:R,dir:te,triggerPointerDownPosRef:O,disabled:b,children:[e.jsx(je.Provider,{scope:r,children:e.jsx(zr,{scope:t.__scopeSelect,onNativeOptionAdd:a.useCallback(I=>{W(K=>new Set(K).add(I))},[]),onNativeOptionRemove:a.useCallback(I=>{W(K=>{const z=new Set(K);return z.delete(I),z})},[]),children:o})}),V?e.jsxs(Yt,{"aria-hidden":!0,required:S,tabIndex:-1,name:u,autoComplete:f,value:B,onChange:I=>H(I.target.value),disabled:b,form:g,children:[B===void 0?e.jsx("option",{value:""}):null,Array.from(U)]},L):null]})})};Nt.displayName=ge;var jt="SelectTrigger",Rt=a.forwardRef((t,r)=>{const{__scopeSelect:o,disabled:s=!1,...n}=t,l=Te(o),i=Q(jt,o),c=i.disabled||s,d=M(r,i.onTriggerChange),p=Re(o),u=a.useRef("touch"),[f,b,S]=Xt(m=>{const v=p().filter(y=>!y.disabled),x=v.find(y=>y.value===i.value),h=Zt(v,m,x);h!==void 0&&i.onValueChange(h.value)}),g=m=>{c||(i.onOpenChange(!0),S()),m&&(i.triggerPointerDownPosRef.current={x:Math.round(m.pageX),y:Math.round(m.pageY)})};return e.jsx(jr,{asChild:!0,...l,children:e.jsx(k.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":qt(i.value)?"":void 0,...n,ref:d,onClick:C(n.onClick,m=>{m.currentTarget.focus(),u.current!=="mouse"&&g(m)}),onPointerDown:C(n.onPointerDown,m=>{u.current=m.pointerType;const v=m.target;v.hasPointerCapture(m.pointerId)&&v.releasePointerCapture(m.pointerId),m.button===0&&m.ctrlKey===!1&&m.pointerType==="mouse"&&(g(m),m.preventDefault())}),onKeyDown:C(n.onKeyDown,m=>{const v=f.current!=="";!(m.ctrlKey||m.altKey||m.metaKey)&&m.key.length===1&&b(m.key),!(v&&m.key===" ")&&Ur.includes(m.key)&&(g(),m.preventDefault())})})})});Rt.displayName=jt;var Tt="SelectValue",It=a.forwardRef((t,r)=>{const{__scopeSelect:o,className:s,style:n,children:l,placeholder:i="",...c}=t,d=Q(Tt,o),{onValueNodeHasChildrenChange:p}=d,u=l!==void 0,f=M(r,d.onValueNodeChange);return J(()=>{p(u)},[p,u]),e.jsx(k.span,{...c,ref:f,style:{pointerEvents:"none"},children:qt(d.value)?e.jsx(e.Fragment,{children:i}):l})});It.displayName=Tt;var Yr="SelectIcon",Et=a.forwardRef((t,r)=>{const{__scopeSelect:o,children:s,...n}=t;return e.jsx(k.span,{"aria-hidden":!0,...n,ref:r,children:s||"â–¼"})});Et.displayName=Yr;var Xr="SelectPortal",_t=t=>e.jsx(ur,{asChild:!0,...t});_t.displayName=Xr;var se="SelectContent",At=a.forwardRef((t,r)=>{const o=Q(se,t.__scopeSelect),[s,n]=a.useState();if(J(()=>{n(new DocumentFragment)},[]),!o.open){const l=s;return l?ht.createPortal(e.jsx(Pt,{scope:t.__scopeSelect,children:e.jsx(je.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),l):null}return e.jsx(Dt,{...t,ref:r})});At.displayName=se;var $=10,[Pt,ee]=de(se),Zr="SelectContentImpl",Dt=a.forwardRef((t,r)=>{const{__scopeSelect:o,position:s="item-aligned",onCloseAutoFocus:n,onEscapeKeyDown:l,onPointerDownOutside:i,side:c,sideOffset:d,align:p,alignOffset:u,arrowPadding:f,collisionBoundary:b,collisionPadding:S,sticky:g,hideWhenDetached:m,avoidCollisions:v,...x}=t,h=Q(se,o),[y,A]=a.useState(null),[P,te]=a.useState(null),D=M(r,w=>A(w)),[R,B]=a.useState(null),[H,O]=a.useState(null),V=Re(o),[U,W]=a.useState(!1),L=a.useRef(!1);a.useEffect(()=>{if(y)return ar(y)},[y]),lr();const I=a.useCallback(w=>{const[E,...F]=V().map(j=>j.ref.current),[T]=F.slice(-1),N=document.activeElement;for(const j of w)if(j===N||(j==null||j.scrollIntoView({block:"nearest"}),j===E&&P&&(P.scrollTop=0),j===T&&P&&(P.scrollTop=P.scrollHeight),j==null||j.focus(),document.activeElement!==N))return},[V,P]),K=a.useCallback(()=>I([R,y]),[I,R,y]);a.useEffect(()=>{U&&K()},[U,K]);const{onOpenChange:z,triggerPointerDownPosRef:X}=h;a.useEffect(()=>{if(y){let w={x:0,y:0};const E=T=>{var N,j;w={x:Math.abs(Math.round(T.pageX)-(((N=X.current)==null?void 0:N.x)??0)),y:Math.abs(Math.round(T.pageY)-(((j=X.current)==null?void 0:j.y)??0))}},F=T=>{w.x<=10&&w.y<=10?T.preventDefault():y.contains(T.target)||z(!1),document.removeEventListener("pointermove",E),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",E),document.addEventListener("pointerup",F,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",E),document.removeEventListener("pointerup",F,{capture:!0})}}},[y,z,X]),a.useEffect(()=>{const w=()=>z(!1);return window.addEventListener("blur",w),window.addEventListener("resize",w),()=>{window.removeEventListener("blur",w),window.removeEventListener("resize",w)}},[z]);const[Ee,xe]=Xt(w=>{const E=V().filter(N=>!N.disabled),F=E.find(N=>N.ref.current===document.activeElement),T=Zt(E,w,F);T&&setTimeout(()=>T.ref.current.focus())}),_e=a.useCallback((w,E,F)=>{const T=!L.current&&!F;(h.value!==void 0&&h.value===E||T)&&(B(w),T&&(L.current=!0))},[h.value]),Ae=a.useCallback(()=>y==null?void 0:y.focus(),[y]),ae=a.useCallback((w,E,F)=>{const T=!L.current&&!F;(h.value!==void 0&&h.value===E||T)&&O(w)},[h.value]),ve=s==="popper"?Oe:Mt,pe=ve===Oe?{side:c,sideOffset:d,align:p,alignOffset:u,arrowPadding:f,collisionBoundary:b,collisionPadding:S,sticky:g,hideWhenDetached:m,avoidCollisions:v}:{};return e.jsx(Pt,{scope:o,content:y,viewport:P,onViewportChange:te,itemRefCallback:_e,selectedItem:R,onItemLeave:Ae,itemTextRefCallback:ae,focusSelectedItem:K,selectedItemText:H,position:s,isPositioned:U,searchRef:Ee,children:e.jsx(ir,{as:or,allowPinchZoom:!0,children:e.jsx(cr,{asChild:!0,trapped:h.open,onMountAutoFocus:w=>{w.preventDefault()},onUnmountAutoFocus:C(n,w=>{var E;(E=h.trigger)==null||E.focus({preventScroll:!0}),w.preventDefault()}),children:e.jsx(dr,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:l,onPointerDownOutside:i,onFocusOutside:w=>w.preventDefault(),onDismiss:()=>h.onOpenChange(!1),children:e.jsx(ve,{role:"listbox",id:h.contentId,"data-state":h.open?"open":"closed",dir:h.dir,onContextMenu:w=>w.preventDefault(),...x,...pe,onPlaced:()=>W(!0),ref:D,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:C(x.onKeyDown,w=>{const E=w.ctrlKey||w.altKey||w.metaKey;if(w.key==="Tab"&&w.preventDefault(),!E&&w.key.length===1&&xe(w.key),["ArrowUp","ArrowDown","Home","End"].includes(w.key)){let T=V().filter(N=>!N.disabled).map(N=>N.ref.current);if(["ArrowUp","End"].includes(w.key)&&(T=T.slice().reverse()),["ArrowUp","ArrowDown"].includes(w.key)){const N=w.target,j=T.indexOf(N);T=T.slice(j+1)}setTimeout(()=>I(T)),w.preventDefault()}})})})})})})});Dt.displayName=Zr;var Jr="SelectItemAlignedPosition",Mt=a.forwardRef((t,r)=>{const{__scopeSelect:o,onPlaced:s,...n}=t,l=Q(se,o),i=ee(se,o),[c,d]=a.useState(null),[p,u]=a.useState(null),f=M(r,D=>u(D)),b=Re(o),S=a.useRef(!1),g=a.useRef(!0),{viewport:m,selectedItem:v,selectedItemText:x,focusSelectedItem:h}=i,y=a.useCallback(()=>{if(l.trigger&&l.valueNode&&c&&p&&m&&v&&x){const D=l.trigger.getBoundingClientRect(),R=p.getBoundingClientRect(),B=l.valueNode.getBoundingClientRect(),H=x.getBoundingClientRect();if(l.dir!=="rtl"){const N=H.left-R.left,j=B.left-N,oe=D.left-j,re=D.width+oe,Pe=Math.max(re,R.width),De=window.innerWidth-$,Me=rt(j,[$,Math.max($,De-Pe)]);c.style.minWidth=re+"px",c.style.left=Me+"px"}else{const N=R.right-H.right,j=window.innerWidth-B.right-N,oe=window.innerWidth-D.right-j,re=D.width+oe,Pe=Math.max(re,R.width),De=window.innerWidth-$,Me=rt(j,[$,Math.max($,De-Pe)]);c.style.minWidth=re+"px",c.style.right=Me+"px"}const O=b(),V=window.innerHeight-$*2,U=m.scrollHeight,W=window.getComputedStyle(p),L=parseInt(W.borderTopWidth,10),I=parseInt(W.paddingTop,10),K=parseInt(W.borderBottomWidth,10),z=parseInt(W.paddingBottom,10),X=L+I+U+z+K,Ee=Math.min(v.offsetHeight*5,X),xe=window.getComputedStyle(m),_e=parseInt(xe.paddingTop,10),Ae=parseInt(xe.paddingBottom,10),ae=D.top+D.height/2-$,ve=V-ae,pe=v.offsetHeight/2,w=v.offsetTop+pe,E=L+I+w,F=X-E;if(E<=ae){const N=O.length>0&&v===O[O.length-1].ref.current;c.style.bottom="0px";const j=p.clientHeight-m.offsetTop-m.offsetHeight,oe=Math.max(ve,pe+(N?Ae:0)+j+K),re=E+oe;c.style.height=re+"px"}else{const N=O.length>0&&v===O[0].ref.current;c.style.top="0px";const oe=Math.max(ae,L+m.offsetTop+(N?_e:0)+pe)+F;c.style.height=oe+"px",m.scrollTop=E-ae+m.offsetTop}c.style.margin=`${$}px 0`,c.style.minHeight=Ee+"px",c.style.maxHeight=V+"px",s==null||s(),requestAnimationFrame(()=>S.current=!0)}},[b,l.trigger,l.valueNode,c,p,m,v,x,l.dir,s]);J(()=>y(),[y]);const[A,P]=a.useState();J(()=>{p&&P(window.getComputedStyle(p).zIndex)},[p]);const te=a.useCallback(D=>{D&&g.current===!0&&(y(),h==null||h(),g.current=!1)},[y,h]);return e.jsx(en,{scope:o,contentWrapper:c,shouldExpandOnScrollRef:S,onScrollButtonChange:te,children:e.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:e.jsx(k.div,{...n,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...n.style}})})})});Mt.displayName=Jr;var Qr="SelectPopperPosition",Oe=a.forwardRef((t,r)=>{const{__scopeSelect:o,align:s="start",collisionPadding:n=$,...l}=t,i=Te(o);return e.jsx(Rr,{...i,...l,ref:r,align:s,collisionPadding:n,style:{boxSizing:"border-box",...l.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Oe.displayName=Qr;var[en,Ze]=de(se,{}),Fe="SelectViewport",kt=a.forwardRef((t,r)=>{const{__scopeSelect:o,nonce:s,...n}=t,l=ee(Fe,o),i=Ze(Fe,o),c=M(r,l.onViewportChange),d=a.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),e.jsx(je.Slot,{scope:o,children:e.jsx(k.div,{"data-radix-select-viewport":"",role:"presentation",...n,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...n.style},onScroll:C(n.onScroll,p=>{const u=p.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:b}=i;if(b!=null&&b.current&&f){const S=Math.abs(d.current-u.scrollTop);if(S>0){const g=window.innerHeight-$*2,m=parseFloat(f.style.minHeight),v=parseFloat(f.style.height),x=Math.max(m,v);if(x<g){const h=x+S,y=Math.min(g,h),A=h-y;f.style.height=y+"px",f.style.bottom==="0px"&&(u.scrollTop=A>0?A:0,f.style.justifyContent="flex-end")}}}d.current=u.scrollTop})})})]})});kt.displayName=Fe;var Ot="SelectGroup",[tn,on]=de(Ot),rn=a.forwardRef((t,r)=>{const{__scopeSelect:o,...s}=t,n=he();return e.jsx(tn,{scope:o,id:n,children:e.jsx(k.div,{role:"group","aria-labelledby":n,...s,ref:r})})});rn.displayName=Ot;var Ft="SelectLabel",Vt=a.forwardRef((t,r)=>{const{__scopeSelect:o,...s}=t,n=on(Ft,o);return e.jsx(k.div,{id:n.id,...s,ref:r})});Vt.displayName=Ft;var we="SelectItem",[nn,Lt]=de(we),$t=a.forwardRef((t,r)=>{const{__scopeSelect:o,value:s,disabled:n=!1,textValue:l,...i}=t,c=Q(we,o),d=ee(we,o),p=c.value===s,[u,f]=a.useState(l??""),[b,S]=a.useState(!1),g=M(r,h=>{var y;return(y=d.itemRefCallback)==null?void 0:y.call(d,h,s,n)}),m=he(),v=a.useRef("touch"),x=()=>{n||(c.onValueChange(s),c.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(nn,{scope:o,value:s,disabled:n,textId:m,isSelected:p,onItemTextChange:a.useCallback(h=>{f(y=>y||((h==null?void 0:h.textContent)??"").trim())},[]),children:e.jsx(je.ItemSlot,{scope:o,value:s,disabled:n,textValue:u,children:e.jsx(k.div,{role:"option","aria-labelledby":m,"data-highlighted":b?"":void 0,"aria-selected":p&&b,"data-state":p?"checked":"unchecked","aria-disabled":n||void 0,"data-disabled":n?"":void 0,tabIndex:n?void 0:-1,...i,ref:g,onFocus:C(i.onFocus,()=>S(!0)),onBlur:C(i.onBlur,()=>S(!1)),onClick:C(i.onClick,()=>{v.current!=="mouse"&&x()}),onPointerUp:C(i.onPointerUp,()=>{v.current==="mouse"&&x()}),onPointerDown:C(i.onPointerDown,h=>{v.current=h.pointerType}),onPointerMove:C(i.onPointerMove,h=>{var y;v.current=h.pointerType,n?(y=d.onItemLeave)==null||y.call(d):v.current==="mouse"&&h.currentTarget.focus({preventScroll:!0})}),onPointerLeave:C(i.onPointerLeave,h=>{var y;h.currentTarget===document.activeElement&&((y=d.onItemLeave)==null||y.call(d))}),onKeyDown:C(i.onKeyDown,h=>{var A;((A=d.searchRef)==null?void 0:A.current)!==""&&h.key===" "||(Wr.includes(h.key)&&x(),h.key===" "&&h.preventDefault())})})})})});$t.displayName=we;var fe="SelectItemText",Bt=a.forwardRef((t,r)=>{const{__scopeSelect:o,className:s,style:n,...l}=t,i=Q(fe,o),c=ee(fe,o),d=Lt(fe,o),p=qr(fe,o),[u,f]=a.useState(null),b=M(r,x=>f(x),d.onItemTextChange,x=>{var h;return(h=c.itemTextRefCallback)==null?void 0:h.call(c,x,d.value,d.disabled)}),S=u==null?void 0:u.textContent,g=a.useMemo(()=>e.jsx("option",{value:d.value,disabled:d.disabled,children:S},d.value),[d.disabled,d.value,S]),{onNativeOptionAdd:m,onNativeOptionRemove:v}=p;return J(()=>(m(g),()=>v(g)),[m,v,g]),e.jsxs(e.Fragment,{children:[e.jsx(k.span,{id:d.textId,...l,ref:b}),d.isSelected&&i.valueNode&&!i.valueNodeHasChildren?ht.createPortal(l.children,i.valueNode):null]})});Bt.displayName=fe;var Ht="SelectItemIndicator",Ut=a.forwardRef((t,r)=>{const{__scopeSelect:o,...s}=t;return Lt(Ht,o).isSelected?e.jsx(k.span,{"aria-hidden":!0,...s,ref:r}):null});Ut.displayName=Ht;var Ve="SelectScrollUpButton",Wt=a.forwardRef((t,r)=>{const o=ee(Ve,t.__scopeSelect),s=Ze(Ve,t.__scopeSelect),[n,l]=a.useState(!1),i=M(r,s.onScrollButtonChange);return J(()=>{if(o.viewport&&o.isPositioned){let c=function(){const p=d.scrollTop>0;l(p)};const d=o.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[o.viewport,o.isPositioned]),n?e.jsx(Gt,{...t,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=o;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});Wt.displayName=Ve;var Le="SelectScrollDownButton",Kt=a.forwardRef((t,r)=>{const o=ee(Le,t.__scopeSelect),s=Ze(Le,t.__scopeSelect),[n,l]=a.useState(!1),i=M(r,s.onScrollButtonChange);return J(()=>{if(o.viewport&&o.isPositioned){let c=function(){const p=d.scrollHeight-d.clientHeight,u=Math.ceil(d.scrollTop)<p;l(u)};const d=o.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[o.viewport,o.isPositioned]),n?e.jsx(Gt,{...t,ref:i,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=o;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});Kt.displayName=Le;var Gt=a.forwardRef((t,r)=>{const{__scopeSelect:o,onAutoScroll:s,...n}=t,l=ee("SelectScrollButton",o),i=a.useRef(null),c=Re(o),d=a.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return a.useEffect(()=>()=>d(),[d]),J(()=>{var u;const p=c().find(f=>f.ref.current===document.activeElement);(u=p==null?void 0:p.ref.current)==null||u.scrollIntoView({block:"nearest"})},[c]),e.jsx(k.div,{"aria-hidden":!0,...n,ref:r,style:{flexShrink:0,...n.style},onPointerDown:C(n.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(s,50))}),onPointerMove:C(n.onPointerMove,()=>{var p;(p=l.onItemLeave)==null||p.call(l),i.current===null&&(i.current=window.setInterval(s,50))}),onPointerLeave:C(n.onPointerLeave,()=>{d()})})}),sn="SelectSeparator",zt=a.forwardRef((t,r)=>{const{__scopeSelect:o,...s}=t;return e.jsx(k.div,{"aria-hidden":!0,...s,ref:r})});zt.displayName=sn;var $e="SelectArrow",an=a.forwardRef((t,r)=>{const{__scopeSelect:o,...s}=t,n=Te(o),l=Q($e,o),i=ee($e,o);return l.open&&i.position==="popper"?e.jsx(Tr,{...n,...s,ref:r}):null});an.displayName=$e;function qt(t){return t===""||t===void 0}var Yt=a.forwardRef((t,r)=>{const{value:o,...s}=t,n=a.useRef(null),l=M(r,n),i=mt(o);return a.useEffect(()=>{const c=n.current,d=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(d,"value").set;if(i!==o&&u){const f=new Event("change",{bubbles:!0});u.call(c,o),c.dispatchEvent(f)}},[i,o]),e.jsx(Ct,{asChild:!0,children:e.jsx("select",{...s,ref:l,defaultValue:o})})});Yt.displayName="BubbleSelect";function Xt(t){const r=ft(t),o=a.useRef(""),s=a.useRef(0),n=a.useCallback(i=>{const c=o.current+i;r(c),function d(p){o.current=p,window.clearTimeout(s.current),p!==""&&(s.current=window.setTimeout(()=>d(""),1e3))}(c)},[r]),l=a.useCallback(()=>{o.current="",window.clearTimeout(s.current)},[]);return a.useEffect(()=>()=>window.clearTimeout(s.current),[]),[o,n,l]}function Zt(t,r,o){const n=r.length>1&&Array.from(r).every(p=>p===r[0])?r[0]:r,l=o?t.indexOf(o):-1;let i=ln(t,Math.max(l,0));n.length===1&&(i=i.filter(p=>p!==o));const d=i.find(p=>p.textValue.toLowerCase().startsWith(n.toLowerCase()));return d!==o?d:void 0}function ln(t,r){return t.map((o,s)=>t[(r+s)%t.length])}var cn=Nt,Jt=Rt,dn=It,un=Et,pn=_t,Qt=At,fn=kt,eo=Vt,to=$t,mn=Bt,hn=Ut,oo=Wt,ro=Kt,no=zt;const Be=cn,He=dn,Se=a.forwardRef(({className:t,children:r,...o},s)=>e.jsxs(Jt,{ref:s,className:_("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...o,children:[r,e.jsx(un,{asChild:!0,children:e.jsx(xt,{className:"h-4 w-4 opacity-50"})})]}));Se.displayName=Jt.displayName;const so=a.forwardRef(({className:t,...r},o)=>e.jsx(oo,{ref:o,className:_("flex cursor-default items-center justify-center py-1",t),...r,children:e.jsx(Dr,{className:"h-4 w-4"})}));so.displayName=oo.displayName;const ao=a.forwardRef(({className:t,...r},o)=>e.jsx(ro,{ref:o,className:_("flex cursor-default items-center justify-center py-1",t),...r,children:e.jsx(xt,{className:"h-4 w-4"})}));ao.displayName=ro.displayName;const Ce=a.forwardRef(({className:t,children:r,position:o="popper",...s},n)=>e.jsx(pn,{children:e.jsxs(Qt,{ref:n,className:_("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:o,...s,children:[e.jsx(so,{}),e.jsx(fn,{className:_("p-1",o==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),e.jsx(ao,{})]})}));Ce.displayName=Qt.displayName;const gn=a.forwardRef(({className:t,...r},o)=>e.jsx(eo,{ref:o,className:_("px-2 py-1.5 text-sm font-semibold",t),...r}));gn.displayName=eo.displayName;const le=a.forwardRef(({className:t,children:r,...o},s)=>e.jsxs(to,{ref:s,className:_("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...o,children:[e.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(hn,{children:e.jsx(Cr,{className:"h-4 w-4"})})}),e.jsx(mn,{children:r})]}));le.displayName=to.displayName;const xn=a.forwardRef(({className:t,...r},o)=>e.jsx(no,{ref:o,className:_("-mx-1 my-1 h-px bg-muted",t),...r}));xn.displayName=no.displayName;const vn=({newField:t,setNewField:r,handleAddField:o,fieldTypes:s})=>e.jsxs(e.Fragment,{children:[e.jsxs(lt,{children:[e.jsx(it,{children:"Add New Field"}),e.jsx(ct,{children:"Please enter the name for the new field."})]}),e.jsxs("div",{className:"space-y-4 mt-5",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Name"}),e.jsx(G,{placeholder:"Enter Field Name",value:t.title,onChange:n=>r(l=>({...l,title:n.target.value,slug:at(n.target.value)}))})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Type"}),e.jsxs(Be,{value:String(t.type_id),onValueChange:n=>r(l=>({...l,type_id:Number(n)})),children:[e.jsx(Se,{children:e.jsx(He,{placeholder:"Select Type"})}),e.jsx(Ce,{children:s==null?void 0:s.map(n=>e.jsx(le,{value:String(n.id),children:n.name},n.id))})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(be,{id:"is-required",checked:t.isRequired,onCheckedChange:n=>r(l=>({...l,isRequired:n}))}),e.jsx(q,{htmlFor:"is-required",children:"Is Required"})]})]}),e.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[e.jsx(dt,{asChild:!0,children:e.jsx(Z,{type:"button",variant:"outline",children:"Close"})}),e.jsx(Z,{onClick:o,disabled:!t.title||t.type_id===null,children:"Add Field"})]})]});var Ne=a.forwardRef((t,r)=>{const{children:o,...s}=t,n=a.Children.toArray(o),l=n.find(bn);if(l){const i=l.props.children,c=n.map(d=>d===l?a.Children.count(i)>1?a.Children.only(null):a.isValidElement(i)?i.props.children:null:d);return e.jsx(Ue,{...s,ref:r,children:a.isValidElement(i)?a.cloneElement(i,void 0,c):null})}return e.jsx(Ue,{...s,ref:r,children:o})});Ne.displayName="Slot";var Ue=a.forwardRef((t,r)=>{const{children:o,...s}=t;if(a.isValidElement(o)){const n=Sn(o),l=wn(s,o.props);return o.type!==a.Fragment&&(l.ref=r?rr(r,n):n),a.cloneElement(o,l)}return a.Children.count(o)>1?a.Children.only(null):null});Ue.displayName="SlotClone";var yn=({children:t})=>e.jsx(e.Fragment,{children:t});function bn(t){return a.isValidElement(t)&&t.type===yn}function wn(t,r){const o={...r};for(const s in r){const n=t[s],l=r[s];/^on[A-Z]/.test(s)?n&&l?o[s]=(...c)=>{l(...c),n(...c)}:n&&(o[s]=n):s==="style"?o[s]={...n,...l}:s==="className"&&(o[s]=[n,l].filter(Boolean).join(" "))}return{...t,...o}}function Sn(t){var s,n;let r=(s=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:s.get,o=r&&"isReactWarning"in r&&r.isReactWarning;return o?t.ref:(r=(n=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:n.get,o=r&&"isReactWarning"in r&&r.isReactWarning,o?t.props.ref:t.props.ref||t.ref)}function Cn(t){const r=t+"CollectionProvider",[o,s]=ce(r),[n,l]=o(r,{collectionRef:{current:null},itemMap:new Map}),i=S=>{const{scope:g,children:m}=S,v=ne.useRef(null),x=ne.useRef(new Map).current;return e.jsx(n,{scope:g,itemMap:x,collectionRef:v,children:m})};i.displayName=r;const c=t+"CollectionSlot",d=ne.forwardRef((S,g)=>{const{scope:m,children:v}=S,x=l(c,m),h=M(g,x.collectionRef);return e.jsx(Ne,{ref:h,children:v})});d.displayName=c;const p=t+"CollectionItemSlot",u="data-radix-collection-item",f=ne.forwardRef((S,g)=>{const{scope:m,children:v,...x}=S,h=ne.useRef(null),y=M(g,h),A=l(p,m);return ne.useEffect(()=>(A.itemMap.set(h,{ref:h,...x}),()=>void A.itemMap.delete(h))),e.jsx(Ne,{[u]:"",ref:y,children:v})});f.displayName=p;function b(S){const g=l(t+"CollectionConsumer",S);return ne.useCallback(()=>{const v=g.collectionRef.current;if(!v)return[];const x=Array.from(v.querySelectorAll(`[${u}]`));return Array.from(g.itemMap.values()).sort((A,P)=>x.indexOf(A.ref.current)-x.indexOf(P.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:i,Slot:d,ItemSlot:f},b,s]}var Nn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ue=Nn.reduce((t,r)=>{const o=a.forwardRef((s,n)=>{const{asChild:l,...i}=s,c=l?Ne:r;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(c,{...i,ref:n})});return o.displayName=`Primitive.${r}`,{...t,[r]:o}},{}),ke="rovingFocusGroup.onEntryFocus",jn={bubbles:!1,cancelable:!0},Ie="RovingFocusGroup",[We,lo,Rn]=Cn(Ie),[Tn,io]=ce(Ie,[Rn]),[In,En]=Tn(Ie),co=a.forwardRef((t,r)=>e.jsx(We.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(We.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(_n,{...t,ref:r})})}));co.displayName=Ie;var _n=a.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:o,orientation:s,loop:n=!1,dir:l,currentTabStopId:i,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:p,preventScrollOnEntryFocus:u=!1,...f}=t,b=a.useRef(null),S=M(r,b),g=Ye(l),[m=null,v]=me({prop:i,defaultProp:c,onChange:d}),[x,h]=a.useState(!1),y=ft(p),A=lo(o),P=a.useRef(!1),[te,D]=a.useState(0);return a.useEffect(()=>{const R=b.current;if(R)return R.addEventListener(ke,y),()=>R.removeEventListener(ke,y)},[y]),e.jsx(In,{scope:o,orientation:s,dir:g,loop:n,currentTabStopId:m,onItemFocus:a.useCallback(R=>v(R),[v]),onItemShiftTab:a.useCallback(()=>h(!0),[]),onFocusableItemAdd:a.useCallback(()=>D(R=>R+1),[]),onFocusableItemRemove:a.useCallback(()=>D(R=>R-1),[]),children:e.jsx(ue.div,{tabIndex:x||te===0?-1:0,"data-orientation":s,...f,ref:S,style:{outline:"none",...t.style},onMouseDown:C(t.onMouseDown,()=>{P.current=!0}),onFocus:C(t.onFocus,R=>{const B=!P.current;if(R.target===R.currentTarget&&B&&!x){const H=new CustomEvent(ke,jn);if(R.currentTarget.dispatchEvent(H),!H.defaultPrevented){const O=A().filter(I=>I.focusable),V=O.find(I=>I.active),U=O.find(I=>I.id===m),L=[V,U,...O].filter(Boolean).map(I=>I.ref.current);fo(L,u)}}P.current=!1}),onBlur:C(t.onBlur,()=>h(!1))})})}),uo="RovingFocusGroupItem",po=a.forwardRef((t,r)=>{const{__scopeRovingFocusGroup:o,focusable:s=!0,active:n=!1,tabStopId:l,...i}=t,c=he(),d=l||c,p=En(uo,o),u=p.currentTabStopId===d,f=lo(o),{onFocusableItemAdd:b,onFocusableItemRemove:S}=p;return a.useEffect(()=>{if(s)return b(),()=>S()},[s,b,S]),e.jsx(We.ItemSlot,{scope:o,id:d,focusable:s,active:n,children:e.jsx(ue.span,{tabIndex:u?0:-1,"data-orientation":p.orientation,...i,ref:r,onMouseDown:C(t.onMouseDown,g=>{s?p.onItemFocus(d):g.preventDefault()}),onFocus:C(t.onFocus,()=>p.onItemFocus(d)),onKeyDown:C(t.onKeyDown,g=>{if(g.key==="Tab"&&g.shiftKey){p.onItemShiftTab();return}if(g.target!==g.currentTarget)return;const m=Dn(g,p.orientation,p.dir);if(m!==void 0){if(g.metaKey||g.ctrlKey||g.altKey||g.shiftKey)return;g.preventDefault();let x=f().filter(h=>h.focusable).map(h=>h.ref.current);if(m==="last")x.reverse();else if(m==="prev"||m==="next"){m==="prev"&&x.reverse();const h=x.indexOf(g.currentTarget);x=p.loop?Mn(x,h+1):x.slice(h+1)}setTimeout(()=>fo(x))}})})})});po.displayName=uo;var An={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Pn(t,r){return r!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Dn(t,r,o){const s=Pn(t.key,o);if(!(r==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(r==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return An[s]}function fo(t,r=!1){const o=document.activeElement;for(const s of t)if(s===o||(s.focus({preventScroll:r}),document.activeElement!==o))return}function Mn(t,r){return t.map((o,s)=>t[(r+s)%t.length])}var kn=co,On=po,Je="Tabs",[Fn,ys]=ce(Je,[io]),mo=io(),[Vn,Qe]=Fn(Je),ho=a.forwardRef((t,r)=>{const{__scopeTabs:o,value:s,onValueChange:n,defaultValue:l,orientation:i="horizontal",dir:c,activationMode:d="automatic",...p}=t,u=Ye(c),[f,b]=me({prop:s,onChange:n,defaultProp:l});return e.jsx(Vn,{scope:o,baseId:he(),value:f,onValueChange:b,orientation:i,dir:u,activationMode:d,children:e.jsx(ue.div,{dir:u,"data-orientation":i,...p,ref:r})})});ho.displayName=Je;var go="TabsList",xo=a.forwardRef((t,r)=>{const{__scopeTabs:o,loop:s=!0,...n}=t,l=Qe(go,o),i=mo(o);return e.jsx(kn,{asChild:!0,...i,orientation:l.orientation,dir:l.dir,loop:s,children:e.jsx(ue.div,{role:"tablist","aria-orientation":l.orientation,...n,ref:r})})});xo.displayName=go;var vo="TabsTrigger",yo=a.forwardRef((t,r)=>{const{__scopeTabs:o,value:s,disabled:n=!1,...l}=t,i=Qe(vo,o),c=mo(o),d=So(i.baseId,s),p=Co(i.baseId,s),u=s===i.value;return e.jsx(On,{asChild:!0,...c,focusable:!n,active:u,children:e.jsx(ue.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":p,"data-state":u?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:d,...l,ref:r,onMouseDown:C(t.onMouseDown,f=>{!n&&f.button===0&&f.ctrlKey===!1?i.onValueChange(s):f.preventDefault()}),onKeyDown:C(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&i.onValueChange(s)}),onFocus:C(t.onFocus,()=>{const f=i.activationMode!=="manual";!u&&!n&&f&&i.onValueChange(s)})})})});yo.displayName=vo;var bo="TabsContent",wo=a.forwardRef((t,r)=>{const{__scopeTabs:o,value:s,forceMount:n,children:l,...i}=t,c=Qe(bo,o),d=So(c.baseId,s),p=Co(c.baseId,s),u=s===c.value,f=a.useRef(u);return a.useEffect(()=>{const b=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(b)},[]),e.jsx(br,{present:n||u,children:({present:b})=>e.jsx(ue.div,{"data-state":u?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!b,id:p,tabIndex:0,...i,ref:r,style:{...t.style,animationDuration:f.current?"0s":void 0},children:b&&l})})});wo.displayName=bo;function So(t,r){return`${t}-trigger-${r}`}function Co(t,r){return`${t}-content-${r}`}var Ln=ho,No=xo,jo=yo,Ro=wo;const $n=Ln,To=a.forwardRef(({className:t,...r},o)=>e.jsx(No,{ref:o,className:_("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...r}));To.displayName=No.displayName;const Ke=a.forwardRef(({className:t,...r},o)=>e.jsx(jo,{ref:o,className:_("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...r}));Ke.displayName=jo.displayName;const Ge=a.forwardRef(({className:t,...r},o)=>e.jsx(Ro,{ref:o,className:_("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...r}));Ge.displayName=Ro.displayName;const Bn=({index:t,field:r,fieldTypes:o,handleEdit:s})=>{var p;const[n,l]=a.useState({title:r.title,slug:r.slug,type_id:r.type_id,isRequired:r.isRequired,defaultValue:r.defaultValue||"",isReadOnly:r.isReadOnly||!1}),i=o.find(u=>u.id===n.type_id),c=((p=i==null?void 0:i.name)==null?void 0:p.toLowerCase())||"",d=()=>{switch(c){case"image":case"file":return e.jsxs("div",{className:"text-sm text-muted-foreground p-3 bg-muted rounded-md",children:["Default value is not applicable for ",c," ","fields."]});case"boolean":return e.jsxs(Be,{value:n.defaultValue===""||n.defaultValue==null?void 0:n.defaultValue,onValueChange:u=>l(f=>({...f,defaultValue:u==="none"?"":u})),children:[e.jsx(Se,{children:e.jsx(He,{placeholder:"Select Default Value"})}),e.jsxs(Ce,{children:[e.jsx(le,{value:"none",children:"No Default"}),e.jsx(le,{value:"true",children:"True"}),e.jsx(le,{value:"false",children:"False"})]})]});case"date":return e.jsx(G,{type:"date",value:n.defaultValue||"",onChange:u=>l(f=>({...f,defaultValue:u.target.value}))});case"datetime":return e.jsx(G,{type:"datetime-local",value:n.defaultValue||"",onChange:u=>l(f=>({...f,defaultValue:u.target.value}))});case"time":return e.jsx(G,{type:"time",value:n.defaultValue||"",onChange:u=>l(f=>({...f,defaultValue:u.target.value}))});case"number":case"integer":return e.jsx(G,{type:"number",placeholder:"Enter Default Number",value:n.defaultValue||"",onChange:u=>l(f=>({...f,defaultValue:u.target.value}))});case"email":return e.jsx(G,{type:"email",placeholder:"Enter Default Email",value:n.defaultValue||"",onChange:u=>l(f=>({...f,defaultValue:u.target.value}))});case"url":return e.jsx(G,{type:"url",placeholder:"Enter Default URL",value:n.defaultValue||"",onChange:u=>l(f=>({...f,defaultValue:u.target.value}))});case"textarea":return e.jsx("textarea",{className:"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Enter Default Text",value:n.defaultValue||"",onChange:u=>l(f=>({...f,defaultValue:u.target.value}))});case"text":case"string":default:return e.jsx(G,{type:"text",placeholder:"Enter Default Value",value:n.defaultValue||"",onChange:u=>l(f=>({...f,defaultValue:u.target.value}))})}};return e.jsxs(e.Fragment,{children:[e.jsxs(lt,{children:[e.jsx(it,{children:"Edit Field"}),e.jsx(ct,{children:"Edit the field properties."})]}),e.jsxs($n,{defaultValue:"basic",className:"w-[400px]",children:[e.jsxs(To,{className:"grid w-full grid-cols-2",children:[e.jsx(Ke,{value:"basic",children:"Basic"}),e.jsx(Ke,{value:"advanced",children:"Advanced"})]}),e.jsx(Ge,{value:"basic",children:e.jsxs("div",{className:"space-y-4 mt-5",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Name"}),e.jsx(G,{placeholder:"Enter Field Name",value:n.title,onChange:u=>l(f=>({...f,title:u.target.value,slug:at(u.target.value)}))})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Type"}),e.jsxs(Be,{value:n.type_id!=null?String(n.type_id):void 0,onValueChange:u=>l(f=>({...f,type_id:Number(u),defaultValue:""})),children:[e.jsx(Se,{children:e.jsx(He,{placeholder:"Select Type"})}),e.jsx(Ce,{children:o==null?void 0:o.map(u=>e.jsx(le,{value:String(u.id),children:u.name},u.id))})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(be,{id:"is-required-edit",checked:n.isRequired,onCheckedChange:u=>l(f=>({...f,isRequired:u}))}),e.jsx(q,{htmlFor:"is-required-edit",children:"Is Required"})]})]})}),e.jsx(Ge,{value:"advanced",children:e.jsxs("div",{className:"space-y-4 mt-5",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Default Value"}),d()]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(be,{id:"is-readonly-edit",checked:n.isReadOnly||!1,onCheckedChange:u=>l(f=>({...f,isReadOnly:u}))}),e.jsx(q,{htmlFor:"is-readonly-edit",children:"Read-Only for Members"})]})]})})]}),e.jsxs("div",{className:"flex justify-end gap-4 mt-4",children:[e.jsx(dt,{asChild:!0,children:e.jsx(Z,{type:"button",variant:"outline",children:"Close"})}),e.jsx(Z,{onClick:()=>s(t,n),disabled:!n.title||n.type_id===null,children:"Save"})]})]})};var Io="AlertDialog",[Hn,bs]=ce(Io,[ut]),Y=ut(),Eo=t=>{const{__scopeAlertDialog:r,...o}=t,s=Y(r);return e.jsx(yr,{...s,...o,modal:!0})};Eo.displayName=Io;var Un="AlertDialogTrigger",_o=a.forwardRef((t,r)=>{const{__scopeAlertDialog:o,...s}=t,n=Y(o);return e.jsx(pr,{...n,...s,ref:r})});_o.displayName=Un;var Wn="AlertDialogPortal",Ao=t=>{const{__scopeAlertDialog:r,...o}=t,s=Y(r);return e.jsx(vr,{...s,...o})};Ao.displayName=Wn;var Kn="AlertDialogOverlay",Po=a.forwardRef((t,r)=>{const{__scopeAlertDialog:o,...s}=t,n=Y(o);return e.jsx(fr,{...n,...s,ref:r})});Po.displayName=Kn;var ie="AlertDialogContent",[Gn,zn]=Hn(ie),Do=a.forwardRef((t,r)=>{const{__scopeAlertDialog:o,children:s,...n}=t,l=Y(o),i=a.useRef(null),c=M(r,i),d=a.useRef(null);return e.jsx(mr,{contentName:ie,titleName:Mo,docsSlug:"alert-dialog",children:e.jsx(Gn,{scope:o,cancelRef:d,children:e.jsxs(hr,{role:"alertdialog",...l,...n,ref:c,onOpenAutoFocus:C(n.onOpenAutoFocus,p=>{var u;p.preventDefault(),(u=d.current)==null||u.focus({preventScroll:!0})}),onPointerDownOutside:p=>p.preventDefault(),onInteractOutside:p=>p.preventDefault(),children:[e.jsx(nr,{children:s}),e.jsx(Yn,{contentRef:i})]})})})});Do.displayName=ie;var Mo="AlertDialogTitle",ko=a.forwardRef((t,r)=>{const{__scopeAlertDialog:o,...s}=t,n=Y(o);return e.jsx(gr,{...n,...s,ref:r})});ko.displayName=Mo;var Oo="AlertDialogDescription",Fo=a.forwardRef((t,r)=>{const{__scopeAlertDialog:o,...s}=t,n=Y(o);return e.jsx(xr,{...n,...s,ref:r})});Fo.displayName=Oo;var qn="AlertDialogAction",Vo=a.forwardRef((t,r)=>{const{__scopeAlertDialog:o,...s}=t,n=Y(o);return e.jsx(pt,{...n,...s,ref:r})});Vo.displayName=qn;var Lo="AlertDialogCancel",$o=a.forwardRef((t,r)=>{const{__scopeAlertDialog:o,...s}=t,{cancelRef:n}=zn(Lo,o),l=Y(o),i=M(r,n);return e.jsx(pt,{...l,...s,ref:i})});$o.displayName=Lo;var Yn=({contentRef:t})=>{const r=`\`${ie}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${ie}\` by passing a \`${Oo}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${ie}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return a.useEffect(()=>{var s;document.getElementById((s=t.current)==null?void 0:s.getAttribute("aria-describedby"))||console.warn(r)},[r,t]),null},Xn=Eo,Zn=_o,Jn=Ao,Bo=Po,Ho=Do,Uo=Vo,Wo=$o,Ko=ko,Go=Fo;const Qn=Xn,es=Zn,ts=Jn,zo=a.forwardRef(({className:t,...r},o)=>e.jsx(Bo,{className:_("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:o}));zo.displayName=Bo.displayName;const qo=a.forwardRef(({className:t,...r},o)=>e.jsxs(ts,{children:[e.jsx(zo,{}),e.jsx(Ho,{ref:o,className:_("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r})]}));qo.displayName=Ho.displayName;const Yo=({className:t,...r})=>e.jsx("div",{className:_("flex flex-col space-y-2 text-center sm:text-left",t),...r});Yo.displayName="AlertDialogHeader";const Xo=({className:t,...r})=>e.jsx("div",{className:_("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r});Xo.displayName="AlertDialogFooter";const Zo=a.forwardRef(({className:t,...r},o)=>e.jsx(Ko,{ref:o,className:_("text-lg font-semibold",t),...r}));Zo.displayName=Ko.displayName;const Jo=a.forwardRef(({className:t,...r},o)=>e.jsx(Go,{ref:o,className:_("text-sm text-muted-foreground",t),...r}));Jo.displayName=Go.displayName;const Qo=a.forwardRef(({className:t,...r},o)=>e.jsx(Uo,{ref:o,className:_(qe(),t),...r}));Qo.displayName=Uo.displayName;const er=a.forwardRef(({className:t,...r},o)=>e.jsx(Wo,{ref:o,className:_(qe({variant:"outline"}),"mt-2 sm:mt-0",t),...r}));er.displayName=Wo.displayName;const os=()=>{const t=st().props.current_project.uuid,[r,o]=a.useState("Untitled"),{getFieldTypes:s,fieldTypes:n}=Or(),[l,i]=a.useState([]),[c,d]=a.useState(!1),p=(g,m)=>{i(v=>{const x=[...v];return x[g]=m,x}),ye.success("Field updated")},[u,f]=a.useState({title:"",slug:"",type_id:null,isRequired:!1});a.useEffect(()=>{n.length===0&&s()},[]);const b=()=>{if(l.some(g=>g.slug===u.slug)){alert("Field sudah ada! Harap gunakan slug yang berbeda.");return}i(g=>[...g,{...u}]),f({title:"",slug:"",type_id:null,isRequired:!1})},S=async()=>{try{d(!0);const g={project_uuid:t,entity_name:r,fields:l};console.log(l);const m=await nt.post(`/p/${t}/entities/store`,g);ye.success("Entity Created Successfully"),window.location.href=`/p/${t}/entities/`}catch(g){g.response?ye.error(g.response.data.message):ye.error("Netework Error")}finally{d(!1)}};return e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"New Entity"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(et,{children:[e.jsx(tt,{asChild:!0,children:e.jsx(Z,{className:"border-[#4945FF] text-[#4945FF] text-xs",variant:"outline",children:"+ Add another field"})}),e.jsx(ot,{className:"sm:max-w-[450px]",children:e.jsx(vn,{newField:u,setNewField:f,handleAddField:b,fieldTypes:n})})]}),e.jsx(Z,{className:"text-xs",onClick:S,disabled:c,children:c?e.jsxs(e.Fragment,{children:[e.jsx("svg",{className:"mr-1 size-5 animate-spin border-4 border-transparent border-slate-400 border-t-white  rounded-full",viewBox:"0 0 24 24"}),"Saving"]}):"Save"})]})]}),e.jsxs("div",{className:"shadow rounded border p-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Entity Name"}),e.jsx(G,{placeholder:"Entity Name",value:r,onChange:g=>o(g.target.value)})]}),e.jsxs("div",{className:"mt-5 space-y-4",children:[e.jsxs("div",{className:"flex font-bold text-sm p-4 bg-gray-100 border-b",children:[e.jsx("div",{className:"flex-1 w-[25%]",children:"Field"}),e.jsx("div",{className:"flex-1 w-[25%]",children:"Type"}),e.jsx("div",{className:"flex-1 w-[25%]",children:"Required"}),e.jsx("div",{className:"flex-1 text-center w-[25%]",children:"Actions"})]}),l.map((g,m)=>{var v,x;return e.jsxs("div",{className:"flex items-center text-sm justify-between p-4 border rounded shadow-sm",children:[e.jsx("div",{className:"flex items-center space-x-2 w-[25%]",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx("img",{src:(v=n==null?void 0:n.find(h=>h.id===g.type_id))==null?void 0:v.icon,alt:""}),e.jsx("span",{className:"self-center",children:sr(g.title)})]})}),e.jsx("div",{className:"flex-1 w-[25%]",children:(x=n==null?void 0:n.find(h=>h.id===g.type_id))==null?void 0:x.name}),e.jsx("div",{className:"flex-1 w-[25%]",children:g.isRequired&&e.jsx("span",{className:"text-xs text-orange-400 bg-orange-100 px-3 py-1 rounded",children:"Required"})}),e.jsxs("div",{className:"flex-1 text-center  w-[25%]",children:[e.jsxs(Qn,{children:[e.jsx(es,{children:e.jsx(Z,{variant:"ghost",className:"bg-red-300 py-4 me-1 rounded-full hover:bg-red-400",size:"xs",children:e.jsx(Er,{className:"text-red-500",size:8})})}),e.jsxs(qo,{children:[e.jsxs(Yo,{children:[e.jsx(Zo,{children:"Are you absolutely sure?"}),e.jsx(Jo,{children:"This action cannot be undone."})]}),e.jsxs(Xo,{children:[e.jsx(er,{children:"Cancel"}),e.jsx(Qo,{className:qe({variant:"destructive"}),onClick:()=>i(l.filter((h,y)=>y!==m)),children:"Delete"})]})]})]}),e.jsxs(et,{children:[e.jsx(tt,{asChild:!0,children:e.jsx(Z,{variant:"ghost",className:"bg-orange-300 py-4 rounded-full hover:bg-orange-400",size:"xs",children:e.jsx(kr,{className:"text-orange-500",size:8})})}),e.jsx(ot,{className:"sm:max-w-[450px]",children:e.jsx(Bn,{index:m,field:g,fieldTypes:n,handleEdit:p})})]})]})]},m)})]})]})]})},ws=()=>{const t=st().props.current_project.uuid;return e.jsx(_r,{children:e.jsxs("div",{className:"ps-2 pe-7",children:[e.jsxs(tr,{href:`/p/${t}/entities`,className:"text-sm inline-flex items-center gap-2 mb-4 text-primary",children:[e.jsx(wr,{size:10}),"back"]}),e.jsx(os,{})]})})};export{ws as default};
